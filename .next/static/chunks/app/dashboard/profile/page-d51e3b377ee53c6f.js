(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{5532:(e,a,l)=>{"use strict";l.d(a,{ProfileForm:()=>n});var t=l(5155),s=l(2115),r=l(6648);function n(e){var a,l;let{profile:n,email:i}=e,[u,d]=(0,s.useState)(null!=(a=null==n?void 0:n.full_name)?a:""),[m,p]=(0,s.useState)(String(null!=(l=null==n?void 0:n.daily_limit_kes)?l:5e4)),[x,o]=(0,s.useState)(!1),[c,b]=(0,s.useState)(null),y=(0,r.U)();async function g(e){e.preventDefault(),o(!0),b(null);let{error:a}=await y.from("profiles").update({full_name:u||null,daily_limit_kes:parseFloat(m)||5e4,updated_at:new Date().toISOString()}).eq("id",null==n?void 0:n.id);o(!1),a?b(a.message):b("Saved.")}return(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",value:i,disabled:!0,className:"w-full bg-apex-muted rounded-lg px-3 py-2 text-gray-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Full name"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),className:"w-full bg-apex-muted border border-apex-primary/30 rounded-lg px-3 py-2 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Daily limit (KES)"}),(0,t.jsx)("input",{type:"number",min:1e3,max:5e5,step:1e3,value:m,onChange:e=>p(e.target.value),className:"w-full bg-apex-muted border border-apex-primary/30 rounded-lg px-3 py-2 text-white"})]}),c&&(0,t.jsx)("p",{className:"text-apex-primary text-sm",children:c}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"btn-primary py-2 px-4 rounded-lg",children:x?"Saving...":"Save"})]})}},5687:(e,a,l)=>{Promise.resolve().then(l.bind(l,5532))},6648:(e,a,l)=>{"use strict";l.d(a,{U:()=>s});var t=l(5417);function s(){return(0,t.createBrowserClient)("your_supabase_url","your_supabase_anon_key")}}},e=>{e.O(0,[417,441,255,358],()=>e(e.s=5687)),_N_E=e.O()}]);